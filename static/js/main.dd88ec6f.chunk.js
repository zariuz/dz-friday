(this["webpackJsonpdz-friday"]=this["webpackJsonpdz-friday"]||[]).push([[0],{12:function(e,t,n){e.exports={profileBlock:"Profile_profileBlock__s1eTP",avatar:"Profile_avatar__2w09x",date:"Profile_date__1JBTA",description:"Profile_description__8u-FR",buttons:"Profile_buttons__fwNvu"}},13:function(e,t,n){e.exports={active:"Header_active__2BaGD",container:"Header_container__1gmUQ",link:"Header_link__3uFxL"}},15:function(e,t,n){e.exports={inputField:"SuperInput_inputField__UOvKG",inputField__error:"SuperInput_inputField__error__2Fcod",input:"SuperInput_input__gYYE0",input__error:"SuperInput_input__error__2jHjF"}},16:function(e,t,n){e.exports={forgot:"ForgotPassword_forgot__Hb2M2",forgotBottom:"ForgotPassword_forgotBottom__338dl"}},17:function(e,t,n){e.exports={container:"Modal_container__3hhJX",containerBody:"Modal_containerBody__2NtX1",title:"Modal_title__2i-tO",subtitle:"Modal_subtitle__1rT2i"}},22:function(e,t,n){e.exports={button:"SuperButton_button__26jbz",blink:"SuperButton_blink__3o6gZ",default:"SuperButton_default__1yabd",red:"SuperButton_red__2EzkG"}},26:function(e,t,n){e.exports={label:"SuperCheckbox_label__3cMO7",checkbox:"SuperCheckbox_checkbox__2zOh-"}},36:function(e,t,n){e.exports={button_block:"Register_button_block__1UFeR"}},37:function(e,t,n){e.exports={error_block:"Error_error_block__2C-Cs"}},39:function(e,t,n){e.exports={column:"TestPage_column__1IbTW"}},45:function(e,t,n){},46:function(e,t,n){},73:function(e,t,n){e.exports={"login-wrapper":"login_login-wrapper__2SXhK"}},74:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(20),s=n.n(c),o=(n(45),n(46),n(3)),i=n(5),l=n(12),u=n.n(l),d=n(4),j=n(2),b={_id:"1",email:"someEmail@umail.com",name:"Andrey",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",publicCardPacksCount:2,isAdmin:!1,verified:!1,rememberMe:!1},p=n(0),O=function(){var e=Object(d.c)((function(e){return e.profile.avatar})),t=Object(d.c)((function(e){return e.profile.name})),n=Object(d.c)((function(e){return e.profile.email})),a=Object(d.b)(),c=Object(r.useState)(t),s=Object(i.a)(c,2),o=s[0],l=s[1],j=Object(r.useState)(n),b=Object(i.a)(j,2),O=b[0],f=b[1];return Object(p.jsxs)("div",{className:u.a.profileBlock,children:[Object(p.jsx)("h3",{children:"Personal Information"}),Object(p.jsx)("img",{className:u.a.avatar,src:e,alt:"avatar"}),Object(p.jsxs)("div",{className:u.a.date,children:[Object(p.jsx)("span",{className:u.a.description,children:"NickName"}),Object(p.jsx)("input",{value:o,onChange:function(e){l(e.currentTarget.value)}}),Object(p.jsx)("span",{className:u.a.description,children:"email"}),Object(p.jsx)("input",{value:O,onChange:function(e){f(e.currentTarget.value)}})]}),Object(p.jsxs)("div",{className:u.a.buttons,children:[Object(p.jsx)("button",{children:"Cancel"}),Object(p.jsx)("button",{onClick:function(){a(function(e){return{type:"CHANGE-NAME",name:e}}(o)),a(function(e){return{type:"CHANGE-MAIL",email:e}}(O))},children:"Save"})]})]})},f=n(36),h=n.n(f),g=n(14),m=n(22),x=n.n(m),v=function(e){var t=e.red,n=e.className,r=Object(g.a)(e,["red","className"]),a="".concat(x.a.button," ").concat(t?x.a.red:x.a.default," ").concat(n);return Object(p.jsx)("button",Object(j.a)({className:a},r))},_=n(37),w=n.n(_),N=function(e){var t=e.error;return Object(p.jsx)("div",{className:w.a.error_block,children:Object(p.jsx)("span",{children:t||null})})},C=n(10),k=n.n(C),y=n(11),E=n(38),S=n.n(E).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0",headers:{}}),T=function(e){return S.post("auth/register",e)},P={isRegistered:!1,isFetching:!1,error:""},R=function(e){return{type:"register/SET-IS-FETCHING",isFetching:e}},F=function(e){return{type:"register/SET-ERROR",error:e}},I=n(17),G=n.n(I),A=function(e){var t=e.children,n=e.subtitle;return Object(p.jsx)("div",{className:G.a.container,children:Object(p.jsxs)("div",{className:G.a.containerBody,children:[Object(p.jsx)("h1",{className:G.a.title,children:"Card"}),Object(p.jsx)("h2",{className:G.a.subtitle,children:n}),t]})})},B=n(15),M=n.n(B),L=function(e){var t=e.label,n=e.onChange,r=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,o=(e.className,e.spanClassName),i=Object(g.a)(e,["label","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(M.a.error," ").concat(o||""),u="".concat(M.a.input," ").concat(s&&M.a.input__error);return Object(p.jsxs)("div",{className:M.a.inputField,children:[Object(p.jsx)("label",{"aria-required":!0,children:t}),Object(p.jsx)("input",Object(j.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),c&&"Enter"===e.key&&c()},className:u},i)),Object(p.jsx)("div",{className:M.a.inputField__error,children:s&&Object(p.jsx)("span",{className:l,children:s})})]})},H=function(){var e=Object(d.c)((function(e){return e.register.isRegistered})),t=Object(d.c)((function(e){return e.register.isFetching})),n=Object(d.c)((function(e){return e.register.error})),a=Object(d.b)();Object(r.useEffect)((function(){return function(){a(F(""))}}),[]);var c=Object(r.useState)(""),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1],g=Object(r.useState)(""),m=Object(i.a)(g,2),x=m[0],_=m[1],w=Object(o.g)();return e?Object(p.jsx)(o.a,{to:"/login"}):Object(p.jsxs)(A,{subtitle:"Sign Up",children:[Object(p.jsx)(L,{label:"Email",type:"email",value:l,disabled:t,onChange:function(e){u(e.currentTarget.value),a(F(""))}}),Object(p.jsx)(L,{label:"Password",type:"password",value:O,disabled:t,onChange:function(e){f(e.currentTarget.value),a(F(""))}}),Object(p.jsx)(L,{label:"Confirm password",type:"password",value:x,disabled:t,onChange:function(e){_(e.currentTarget.value),a(F(""))}}),Object(p.jsx)(N,{error:n}),Object(p.jsxs)("div",{className:h.a.button_block,children:[Object(p.jsx)(v,{onClick:function(){return w("/login")},children:"Cancel"}),Object(p.jsx)(v,{onClick:function(){var e;a(l&&O&&x&&O===x?(e={email:l,password:x},function(){var t=Object(y.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(R(!0)),t.next=4,T(e);case 4:n({type:"register/SET-IS-REGISTERED",isRegistered:!0}),n(R(!1)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),n(F(null===(r=t.t0.response)||void 0===r?void 0:r.data.error)),n(R(!1));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()):F("not valid email/password /\u1420-\ua788-\u141f\\")),f(""),_("")},children:"Register"})]})]})},D=n(16),U=n.n(D),z=n(6),K=function(e){return S.post("auth/forgot",e)},J={forgotPasswordError:"",status:"idle"},X=function(e){return{type:"forgot-password/FORGOT-ERROR",value:e}},W=function(e){return{type:"forgot-password/FORGOT-STATUS",value:e}},Y=function(){return Object(p.jsx)(A,{subtitle:"Check Email",children:Object(p.jsx)("div",{children:"We have sent an email with instructions to your mail."})})},$=function(){var e=Object(r.useState)({email:"",from:"dz-friday-admin <jek-n@mail.ru>",message:"<div style=\"background-color: orange; padding: 15px;\">\n        <a href='https://zariuz.github.io/dz-friday/#/set-new-password/$token$'>\n        Password recover link\n        </a></div>"}),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(d.c)((function(e){return e.forgotPassword.status})),s=Object(d.c)((function(e){return e.forgotPassword.forgotPasswordError})),o=Object(d.b)();return"succeeded"===c?(o(X("")),Object(p.jsx)(Y,{})):Object(p.jsxs)(A,{subtitle:"Forgot your password?",children:[Object(p.jsxs)("form",{onSubmit:function(e){o(function(e){return function(){var t=Object(y.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(W("loading")),t.next=4,K(e);case 4:n(W("succeeded")),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),n(W("failed")),r=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",console.log(r),n(X(r));case 13:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(n)),e.preventDefault()},className:U.a.forgot,children:[Object(p.jsx)(L,{label:"Email",type:"email",id:"email",value:n.email,onChange:function(e){return a(Object(j.a)(Object(j.a)({},n),{},{email:e.target.value}))}}),Object(p.jsx)("p",{children:"Enter your email address and we will send you further instructions"}),Object(p.jsx)(N,{error:s}),Object(p.jsx)(v,{children:"Send Instructions"})]}),Object(p.jsxs)("div",{className:U.a.forgotBottom,children:[Object(p.jsx)("p",{children:"Did you remember your password?"}),Object(p.jsx)(z.c,{to:"/login",children:"Try logging in"})]})]})},q=function(){return Object(p.jsx)("div",{children:"NewPassword"})},Q=function(){return Object(p.jsx)("div",{children:"404"})},Z=n(13),V=n.n(Z),ee=function(){return Object(p.jsxs)("div",{className:V.a.container,children:[Object(p.jsx)(z.c,{className:V.a.link,to:"/profile",children:" profile "}),Object(p.jsx)(z.c,{className:V.a.link,to:"/register",children:" register "}),Object(p.jsx)(z.c,{className:V.a.link,to:"/set-new-password",children:" newPass "}),Object(p.jsx)(z.c,{className:V.a.link,to:"/forgot-password",children:" forgotPass"}),Object(p.jsx)(z.c,{className:V.a.link,to:"/login",children:" login "}),Object(p.jsx)(z.c,{to:"/testPage",children:" test "})]})},te=(n(73),function(e){return S.post("auth/login",e)}),ne={_id:"",avatar:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,verified:!1,updated:{},created:{},isLoggedIn:!1},re=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},ae=function(e){return{type:"LOGIN/GET-USER",data:e}},ce=function(){var e=Object(r.useState)({email:"",password:"",rememberMe:!1}),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(d.b)();return Object(p.jsxs)(A,{subtitle:"Sign In",children:[Object(p.jsxs)("form",{onSubmit:function(e){c(function(e){return function(){var t=Object(y.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te(e);case 3:r=t.sent,n(re(!0)),n(ae(r.data)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(n)),e.preventDefault()},className:U.a.forgot,children:[Object(p.jsx)(L,{label:"Email",type:"email",id:"email",value:n.email,onChange:function(e){return a(Object(j.a)(Object(j.a)({},n),{},{email:e.target.value}))}}),Object(p.jsx)(L,{label:"Password",type:"password",id:"email",value:n.password,onChange:function(e){return a(Object(j.a)(Object(j.a)({},n),{},{password:e.target.value}))}}),Object(p.jsx)("div",{children:Object(p.jsx)(v,{children:"Login"})})]}),Object(p.jsx)("div",{children:Object(p.jsx)(z.b,{to:"/forgot-password",children:"Forgot password"})}),Object(p.jsx)("p",{children:"Don't have an account?"}),Object(p.jsx)("div",{children:Object(p.jsx)(z.b,{to:"/register",children:"Sign Up"})})]})},se=n(26),oe=n.n(se),ie=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),c=Object(g.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(oe.a.checkbox," ").concat(r||"");return Object(p.jsxs)("label",{children:[Object(p.jsx)("input",Object(j.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),a&&Object(p.jsx)("span",{className:oe.a.spanClassName,children:a})]})},le=n(39),ue=n.n(le),de=function(){return Object(p.jsxs)("div",{className:ue.a.column,children:[Object(p.jsx)(v,{children:"button"}),Object(p.jsx)(L,{}),Object(p.jsx)(ie,{})]})},je=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(ee,{}),Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/profile",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.b,{path:"/",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.b,{path:"/login",element:Object(p.jsx)(ce,{})}),Object(p.jsx)(o.b,{path:"/register",element:Object(p.jsx)(H,{})}),Object(p.jsx)(o.b,{path:"/forgot-password",element:Object(p.jsx)($,{})}),Object(p.jsx)(o.b,{path:"/set-new-password",element:Object(p.jsx)(q,{})}),Object(p.jsx)(o.b,{path:"/testPage",element:Object(p.jsx)(de,{})}),Object(p.jsx)(o.b,{path:"*",element:Object(p.jsx)(Q,{})})]})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},pe=n(23),Oe=n(40),fe={},he=Object(pe.b)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-IS-REGISTERED":return Object(j.a)(Object(j.a)({},e),{},{isRegistered:t.isRegistered});case"register/SET-IS-FETCHING":return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case"register/SET-ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:t.error});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"forgot-password/FORGOT-ERROR":return Object(j.a)(Object(j.a)({},e),{},{forgotPasswordError:t.value});case"forgot-password/FORGOT-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.value});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:t.value});case"LOGIN/GET-USER":return Object(j.a)(Object(j.a)({},e),{},{name:t.data.name,avatar:t.data.avatar,email:t.data.email,_id:"",isAdmin:t.data.isAdmin,publicCardPacksCount:t.data.publicCardPacksCount,rememberMe:t.data.rememberMe,verified:t.data.verified,updated:t.data.updated,created:t.data.created,isLoggedIn:!0});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-NAME":return Object(j.a)(Object(j.a)({},e),{},{name:t.name});case"CHANGE-MAIL":return Object(j.a)(Object(j.a)({},e),{},{email:t.email});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"res-pass":return Object(j.a)({},e);default:return e}}}),ge=Object(pe.c)(he,Object(pe.a)(Oe.a));window.store=ge,s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(d.a,{store:ge,children:Object(p.jsx)(z.a,{children:Object(p.jsx)(je,{})})})}),document.getElementById("root")),be()}},[[74,1,2]]]);
//# sourceMappingURL=main.dd88ec6f.chunk.js.map