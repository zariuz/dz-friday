(this["webpackJsonpdz-friday"]=this["webpackJsonpdz-friday"]||[]).push([[0],{12:function(e,t,r){e.exports={profileBlock:"Profile_profileBlock__s1eTP",avatar:"Profile_avatar__2w09x",date:"Profile_date__1JBTA",description:"Profile_description__8u-FR",buttons:"Profile_buttons__fwNvu"}},13:function(e,t,r){e.exports={active:"Header_active__2BaGD",container:"Header_container__1gmUQ",link:"Header_link__3uFxL"}},15:function(e,t,r){e.exports={inputField:"SuperInput_inputField__UOvKG",inputField__error:"SuperInput_inputField__error__2Fcod",input:"SuperInput_input__gYYE0",input__error:"SuperInput_input__error__2jHjF"}},16:function(e,t,r){e.exports={forgot:"ForgotPassword_forgot__Hb2M2",forgotBottom:"ForgotPassword_forgotBottom__338dl"}},17:function(e,t,r){e.exports={container:"Modal_container__3hhJX",containerBody:"Modal_containerBody__2NtX1",title:"Modal_title__2i-tO",subtitle:"Modal_subtitle__1rT2i"}},23:function(e,t,r){e.exports={button:"SuperButton_button__26jbz",blink:"SuperButton_blink__3o6gZ",default:"SuperButton_default__1yabd",red:"SuperButton_red__2EzkG"}},27:function(e,t,r){e.exports={label:"SuperCheckbox_label__3cMO7",checkbox:"SuperCheckbox_checkbox__2zOh-"}},37:function(e,t,r){e.exports={error_block:"Error_error_block__2C-Cs"}},38:function(e,t,r){e.exports={column:"TestPage_column__1IbTW"}},44:function(e,t,r){},45:function(e,t,r){},72:function(e,t,r){e.exports={"login-wrapper":"login_login-wrapper__2SXhK"}},73:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(20),s=r.n(c),o=(r(44),r(45),r(3)),i=r(5),l=r(12),u=r.n(l),d=r(4),j=r(2),b={_id:"1",email:"someEmail@umail.com",name:"Andrey",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",publicCardPacksCount:2,isAdmin:!1,verified:!1,rememberMe:!1},p=r(0),O=function(){var e=Object(d.c)((function(e){return e.profile.avatar})),t=Object(d.c)((function(e){return e.profile.name})),r=Object(d.c)((function(e){return e.profile.email})),a=Object(d.b)(),c=Object(n.useState)(t),s=Object(i.a)(c,2),o=s[0],l=s[1],j=Object(n.useState)(r),b=Object(i.a)(j,2),O=b[0],f=b[1];return Object(p.jsxs)("div",{className:u.a.profileBlock,children:[Object(p.jsx)("h3",{children:"Personal Information"}),Object(p.jsx)("img",{className:u.a.avatar,src:e,alt:"avatar"}),Object(p.jsxs)("div",{className:u.a.date,children:[Object(p.jsx)("span",{className:u.a.description,children:"NickName"}),Object(p.jsx)("input",{value:o,onChange:function(e){l(e.currentTarget.value)}}),Object(p.jsx)("span",{className:u.a.description,children:"email"}),Object(p.jsx)("input",{value:O,onChange:function(e){f(e.currentTarget.value)}})]}),Object(p.jsxs)("div",{className:u.a.buttons,children:[Object(p.jsx)("button",{children:"Cancel"}),Object(p.jsx)("button",{onClick:function(){a(function(e){return{type:"CHANGE-NAME",name:e}}(o)),a(function(e){return{type:"CHANGE-MAIL",email:e}}(O))},children:"Save"})]})]})},f=r(10),h=r.n(f),x=r(11),m=r(21),g=r.n(m),v=g.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0",headers:{}}),_=function(e,t){return v.post("/auth/register",{email:e,password:t})},w={email:"",password:"",isError:!0,errorText:"",isLoading:!1},N=function(e,t){return{type:"register",email:e,password:t}},y=function(e){return{type:"error",error:e}},k=function(e){return{type:"resetErrorText",value:e}},C=function(e){return{type:"loading",value:e}},E=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.register.isError})),r=Object(d.c)((function(e){return e.register.errorText})),a=Object(d.c)((function(e){return e.register.isLoading})),c=Object(n.useState)(""),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1];Object(n.useEffect)((function(){e(y(!0))}),[t]);return Object(p.jsxs)("div",{children:[r,!r&&a&&"Loading...",!t&&Object(p.jsx)(o.a,{replace:!0,to:"/login"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",placeholder:"email",onChange:function(t){u(t.currentTarget.value),e(k("")),e(C(!1))}}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",placeholder:"password",onChange:function(t){f(t.currentTarget.value),e(k("")),e(C(!1))}}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:function(){return e(function(e,t){return function(){var r=Object(x.a)(h.a.mark((function r(n){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(C(!0)),r.next=4,_(e,t);case 4:n(C(!1)),n(N(e,t)),n(y(!1)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),g.a.isAxiosError(r.t0)&&r.t0.response&&n({type:"errorText",errorText:r.t0.response.data.error});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(l,O))},disabled:a,children:"Registration"})]})},T=r(16),S=r.n(T),P=r(17),F=r.n(P),I=function(e){var t=e.children,r=e.subtitle;return Object(p.jsx)("div",{className:F.a.container,children:Object(p.jsxs)("div",{className:F.a.containerBody,children:[Object(p.jsx)("h1",{className:F.a.title,children:"Card"}),Object(p.jsx)("h2",{className:F.a.subtitle,children:r}),t]})})},G=r(6),A=r(14),L=r(23),B=r.n(L),M=function(e){var t=e.red,r=e.className,n=Object(A.a)(e,["red","className"]),a="".concat(B.a.button," ").concat(t?B.a.red:B.a.default," ").concat(r);return Object(p.jsx)("button",Object(j.a)({className:a},n))},R=r(15),z=r.n(R),H=function(e){var t=e.label,r=e.onChange,n=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,o=(e.className,e.spanClassName),i=Object(A.a)(e,["label","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(z.a.error," ").concat(o||""),u="".concat(z.a.input," ").concat(s&&z.a.input__error);return Object(p.jsxs)("div",{className:z.a.inputField,children:[Object(p.jsx)("label",{"aria-required":!0,children:t}),Object(p.jsx)("input",Object(j.a)({onChange:function(e){r&&r(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),c&&"Enter"===e.key&&c()},className:u},i)),Object(p.jsx)("div",{className:z.a.inputField__error,children:s&&Object(p.jsx)("span",{className:l,children:s})})]})},D=r(37),U=r.n(D),K=function(e){var t=e.error;return Object(p.jsx)("div",{className:U.a.error_block,children:Object(p.jsx)("span",{children:t||null})})},J=function(e){return v.post("auth/forgot",e)},X={forgotPasswordError:"",status:"idle"},W=function(e){return{type:"forgot-password/FORGOT-ERROR",value:e}},Y=function(e){return{type:"forgot-password/FORGOT-STATUS",value:e}},$=function(){return Object(p.jsx)(I,{subtitle:"Check Email",children:Object(p.jsx)("div",{children:"We have sent an email with instructions to your mail."})})},q=function(){var e=Object(n.useState)({email:"",from:"dz-friday-admin <jek-n@mail.ru>",message:"<div style=\"background-color: orange; padding: 15px;\">\n        <a href='https://zariuz.github.io/dz-friday/#/set-new-password/$token$'>\n        Password recover link\n        </a></div>"}),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(d.c)((function(e){return e.forgotPassword.status})),s=Object(d.c)((function(e){return e.forgotPassword.forgotPasswordError})),o=Object(d.b)();return"succeeded"===c?(o(W("")),Object(p.jsx)($,{})):Object(p.jsxs)(I,{subtitle:"Forgot your password?",children:[Object(p.jsxs)("form",{onSubmit:function(e){o(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(Y("loading")),t.next=4,J(e);case 4:r(Y("succeeded")),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),r(Y("failed")),n=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",console.log(n),r(W(n));case 13:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(r)),e.preventDefault()},className:S.a.forgot,children:[Object(p.jsx)(H,{label:"Email",type:"email",id:"email",value:r.email,onChange:function(e){return a(Object(j.a)(Object(j.a)({},r),{},{email:e.target.value}))}}),Object(p.jsx)("p",{children:"Enter your email address and we will send you further instructions"}),Object(p.jsx)(K,{error:s}),Object(p.jsx)(M,{children:"Send Instructions"})]}),Object(p.jsxs)("div",{className:S.a.forgotBottom,children:[Object(p.jsx)("p",{children:"Did you remember your password?"}),Object(p.jsx)(G.c,{to:"/login",children:"Try logging in"})]})]})},Q=function(){return Object(p.jsx)("div",{children:"NewPassword"})},Z=function(){return Object(p.jsx)("div",{children:"404"})},V=r(13),ee=r.n(V),te=function(){return Object(p.jsxs)("div",{className:ee.a.container,children:[Object(p.jsx)(G.c,{className:ee.a.link,to:"/profile",children:" profile "}),Object(p.jsx)(G.c,{className:ee.a.link,to:"/register",children:" register "}),Object(p.jsx)(G.c,{className:ee.a.link,to:"/set-new-password",children:" newPass "}),Object(p.jsx)(G.c,{className:ee.a.link,to:"/forgot-password",children:" forgotPass"}),Object(p.jsx)(G.c,{className:ee.a.link,to:"/login",children:" login "}),Object(p.jsx)(G.c,{to:"/testPage",children:" test "})]})},re=(r(72),function(e){return v.post("auth/login",e)}),ne={_id:"",avatar:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,verified:!1,updated:{},created:{},isLoggedIn:!1},ae=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},ce=function(e){return{type:"LOGIN/GET-USER",data:e}},se=function(){var e=Object(n.useState)({email:"",password:"",rememberMe:!1}),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(d.b)();return Object(p.jsxs)(I,{subtitle:"Sign In",children:[Object(p.jsxs)("form",{onSubmit:function(e){c(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(e);case 3:n=t.sent,r(ae(!0)),r(ce(n.data)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(r)),e.preventDefault()},className:S.a.forgot,children:[Object(p.jsx)(H,{label:"Email",type:"email",id:"email",value:r.email,onChange:function(e){return a(Object(j.a)(Object(j.a)({},r),{},{email:e.target.value}))}}),Object(p.jsx)(H,{label:"Password",type:"password",id:"email",value:r.password,onChange:function(e){return a(Object(j.a)(Object(j.a)({},r),{},{password:e.target.value}))}}),Object(p.jsx)("div",{children:Object(p.jsx)(M,{children:"Login"})})]}),Object(p.jsx)("div",{children:Object(p.jsx)(G.b,{to:"/forgot-password",children:"Forgot password"})}),Object(p.jsx)("p",{children:"Don't have an account?"}),Object(p.jsx)("div",{children:Object(p.jsx)(G.b,{to:"/register",children:"Sign Up"})})]})},oe=r(27),ie=r.n(oe),le=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,n=e.className,a=(e.spanClassName,e.children),c=Object(A.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(ie.a.checkbox," ").concat(n||"");return Object(p.jsxs)("label",{children:[Object(p.jsx)("input",Object(j.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:s},c)),a&&Object(p.jsx)("span",{className:ie.a.spanClassName,children:a})]})},ue=r(38),de=r.n(ue),je=function(){return Object(p.jsxs)("div",{className:de.a.column,children:[Object(p.jsx)(M,{children:"button"}),Object(p.jsx)(H,{}),Object(p.jsx)(le,{})]})},be=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(te,{}),Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/profile",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.b,{path:"/",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.b,{path:"/login",element:Object(p.jsx)(se,{})}),Object(p.jsx)(o.b,{path:"/register",element:Object(p.jsx)(E,{})}),Object(p.jsx)(o.b,{path:"/forgot-password",element:Object(p.jsx)(q,{})}),Object(p.jsx)(o.b,{path:"/set-new-password",element:Object(p.jsx)(Q,{})}),Object(p.jsx)(o.b,{path:"/testPage",element:Object(p.jsx)(je,{})}),Object(p.jsx)(o.b,{path:"*",element:Object(p.jsx)(Z,{})})]})]})},pe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,74)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},Oe=r(24),fe=r(39),he={},xe=Object(Oe.b)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register":return Object(j.a)(Object(j.a)({},e),{},{email:t.email,password:t.password});case"error":return Object(j.a)(Object(j.a)({},e),{},{isError:t.error});case"errorText":return Object(j.a)(Object(j.a)({},e),{},{errorText:t.errorText});case"resetErrorText":return Object(j.a)(Object(j.a)({},e),{},{errorText:t.value});case"loading":return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.value});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"forgot-password/FORGOT-ERROR":return Object(j.a)(Object(j.a)({},e),{},{forgotPasswordError:t.value});case"forgot-password/FORGOT-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.value});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:t.value});case"LOGIN/GET-USER":return Object(j.a)(Object(j.a)({},e),{},{name:t.data.name,avatar:t.data.avatar,email:t.data.email,_id:"",isAdmin:t.data.isAdmin,publicCardPacksCount:t.data.publicCardPacksCount,rememberMe:t.data.rememberMe,verified:t.data.verified,updated:t.data.updated,created:t.data.created,isLoggedIn:!0});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-NAME":return Object(j.a)(Object(j.a)({},e),{},{name:t.name});case"CHANGE-MAIL":return Object(j.a)(Object(j.a)({},e),{},{email:t.email});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"res-pass":return Object(j.a)({},e);default:return e}}}),me=Object(Oe.c)(xe,Object(Oe.a)(fe.a));window.store=me,s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(d.a,{store:me,children:Object(p.jsx)(G.a,{children:Object(p.jsx)(be,{})})})}),document.getElementById("root")),pe()}},[[73,1,2]]]);
//# sourceMappingURL=main.69982a71.chunk.js.map